<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>"Data" Day Scores</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    table {
      border-collapse: collapse;
      margin: 0 auto;
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #ddd;
      padding: 6px 10px;
      text-align: right;
      white-space: nowrap;
    }
    th {
      background: #f4f4f4;
    }
    button {
      display: block;
      margin: 15px auto;
      padding: 10px 18px;
      font-size: 14px;
      border-radius: 6px;
      border: none;
      background: #4285f4;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #3367d6;
    }

    /* Modal styling */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      overflow: auto;
      background: rgba(0,0,0,0.5);
    }
    .modal-content {
      background: #fff;
      margin: 5% auto;
      padding: 20px;
      border-radius: 8px;
      max-width: 95%;
      overflow-x: auto;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 24px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover { color: black; }

    /* Standings modal table */
    #standings-table {
      table-layout: fixed;   /* prevent auto-shrink */
      width: 100%;
      border-collapse: collapse;
    }
    #standings-table th,
    #standings-table td {
      padding: 6px 10px;
      text-align: right;
      white-space: nowrap;   /* no wrapping */
      overflow: hidden;      /* no spilling */
      text-overflow: ellipsis;
    }
    /* Column 1 wider */
    #standings-table td:nth-child(1),
    #standings-table th:nth-child(1) {
      width: 200px;
      text-align: left;
    }
    /* Column 5 wider */
    #standings-table td:nth-child(5),
    #standings-table th:nth-child(5) {
      width: 180px;
      text-align: left;
    }
  </style>
</head>
<body>
  <h1>"Data" Day Scores</h1>

  <button id="openCheaccuracy">Open Cheaccuracy Modal</button>
  <button id="openStandings">Open Standings Modal</button>

  <!-- Cheaccuracy Modal -->
  <div id="cheaccuracyModal" class="modal">
    <div class="modal-content">
      <span class="close" data-close="cheaccuracyModal">&times;</span>
      <h2>Cheaccuracy Graph</h2>
      <canvas id="cheaccuracyChart" width="800" height="400"></canvas>
    </div>
  </div>

  <!-- Standings Modal -->
  <div id="standingsModal" class="modal">
    <div class="modal-content">
      <span class="close" data-close="standingsModal">&times;</span>
      <h2>Standings</h2>
      <table id="standings-table">
        <thead><tr></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <script>
    // Cheaccuracy button
    document.getElementById("openCheaccuracy").onclick = function() {
      document.getElementById("cheaccuracyModal").style.display = "block";
      drawCheaccuracyChart();
    };

    // Standings button
    document.getElementById("openStandings").onclick = function() {
      document.getElementById("standingsModal").style.display = "block";
      loadStandings();
    };

    // Close buttons
    document.querySelectorAll(".close").forEach(el => {
      el.onclick = function() {
        document.getElementById(el.dataset.close).style.display = "none";
      };
    });

    // Close modals on outside click
    window.onclick = function(event) {
      if (event.target.classList.contains("modal")) {
        event.target.style.display = "none";
      }
    };

    // Dummy chart for cheaccuracy
    function drawCheaccuracyChart() {
      const ctx = document.getElementById("cheaccuracyChart").getContext("2d");
      new Chart(ctx, {
        type: "scatter",
        data: {
          datasets: [{
            label: "Example Data",
            data: Array.from({length: 20}, () => ({x: Math.random()*10, y: Math.random()*10})),
            backgroundColor: "blue"
          }]
        },
        options: {
          scales: {
            x: { title: { display: true, text: "X Axis" } },
            y: { title: { display: true, text: "Y Axis" } }
          }
        }
      });
    }

    // Dummy standings data
    const standingsData = [
      ["Division", "W", "L", "T", "Team", "GF", "GA", "Pts"],
      ["East", "", "", "", "", "", "", ""],
      ["Team A", "10", "2", "0", "Sharks", "30", "15", "20"],
      ["Team B", "8", "4", "0", "Penguins", "28", "20", "16"],
      ["Team C", "6", "6", "0", "Bruins", "25", "25", "12"],
      ["Team D", "4", "8", "0", "Flyers", "18", "30", "8"],
      ["West", "", "", "", "", "", "", ""],
      ["Team E", "12", "0", "0", "Avalanche", "40", "10", "24"],
      ["Team F", "7", "5", "0", "Oilers", "26", "22", "14"],
      ["Team G", "5", "7", "0", "Kings", "20", "28", "10"],
      ["Team H", "3", "9", "0", "Canucks", "15", "35", "6"],
    ];

    function loadStandings() {
      const table = document.getElementById("standings-table");
      const theadRow = table.querySelector("thead tr");
      const tbody = table.querySelector("tbody");
      theadRow.innerHTML = "";
      tbody.innerHTML = "";

      // Headers
      standingsData[0].forEach(head => {
        const th = document.createElement("th");
        th.textContent = head;
        theadRow.appendChild(th);
      });

      // Rows
      standingsData.slice(1).forEach((row, rowIndex) => {
        const tr = document.createElement("tr");
        row.forEach((cell, colIndex) => {
          const td = document.createElement("td");
          td.textContent = cell;
          tr.appendChild(td);
        });

        const skipConditional = (rowIndex % 5 === 0);

        if (!skipConditional) {
          if (row.length > 2) {
            if (row[1].trim() === row[2].trim()) tr.cells[1].style.backgroundColor = "lightgreen";
            else tr.cells[1].style.backgroundColor = "#f28c8c";
          }
          if (row.length > 6) {
            if (row[5].trim() === row[6].trim()) tr.cells[5].style.backgroundColor = "lightgreen";
            else tr.cells[5].style.backgroundColor = "#f28c8c";
          }
        }

        if (skipConditional) {
          tr.style.fontWeight = "bold";
        }

        tbody.appendChild(tr);
      });
    }
  </script>
</body>
</html>
